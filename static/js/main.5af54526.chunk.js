(this["webpackJsonpengineering-health-dashboard"]=this["webpackJsonpengineering-health-dashboard"]||[]).push([[0],{338:function(e,t,n){},339:function(e,t,n){},474:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),i=n(17),s=n.n(i),o=(n(338),n(19)),d=n(148),l=n(157),j=(n(339),n(575)),u=n(545),b=n(548),h=n(549),O=n(547),x="#2C343F",m="#1D2228",f={DE:"Data dev",INFRASTRUCTURE:"Infrastructure",NOMAD:"Nomad",HE:"Hardware"},v=Object(j.a)(u.a)({background:"#FFDD00",color:m});function p(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{}),Object(a.jsx)(v,{children:Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h6",children:"Engineering Health Dashboard"})})}),Object(a.jsx)(b.a,{})]})}var g=n(565),y=n(308),T=n(475),C=n(568),F=n(151),R={"geospatial-growth-hack":f.DE,mothership:f.INFRASTRUCTURE,"web-server":f.INFRASTRUCTURE,dbt:f.INFRASTRUCTURE,partners:f.INFRASTRUCTURE,atlas:f.NOMAD,"dirtmate-edge":f.HE,"3p":f.DE,"aeropoints-fulfillers":f.HE,"aeropoints-firmware":f.HE};function S(e){var t=function(e,t){var n=e.data.search.edges;if(n){var a=/https:\/\/github.com\/PropellerAero\/(.*?)\//;t&&(n=n.filter((function(e){var n=a.exec(e.node.url);return n?f[t]===R[n[1]]:null})));var r=[{day:0,count:0,dayName:"Sunday"},{day:1,count:0,dayName:"Monday"},{day:2,count:0,dayName:"Tuesday"},{day:3,count:0,dayName:"Wednesday"},{day:4,count:0,dayName:"Thursday"},{day:5,count:0,dayName:"Friday"},{day:6,count:0,dayName:"Saturday"}];return n.forEach((function(e){var t=new Date(e.node.createdAt).getDay(),n=r.find((function(e){return e.day===t}));n&&n.count++})),r}}(e.data,e.team);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h6",component:"div",children:"Pull Requests Raised Across Propeller"})}),Object(a.jsx)(F.a,{margin:{top:30,right:80,bottom:80,left:80},data:t,indexBy:"dayName",keys:["count"],labelTextColor:x,enableGridX:!1,colors:"#28AFB0",theme:{axis:{ticks:{line:{stroke:m},text:{fill:m}}}}})]})}var E=n(557),A=n(558),w=n(559),D=n(560),N=n(561),P=n(562),k=n(303),I=n.n(k);function _(e){var t=e.data,n=t?function(e){var t=e.data.search.edges.map((function(e){var t,n;return null===e||void 0===e||null===(t=e.node)||void 0===t||null===(n=t.author)||void 0===n?void 0:n.login}));return Object.entries(I()(t)).sort((function(e,t){return t[1]-e[1]})).slice(0,5)}(t):[];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h6",component:"div",children:"Pull Request Leaderboard"})}),Object(a.jsx)(E.a,{children:Object(a.jsxs)(A.a,{"aria-label":"simple table",children:[Object(a.jsx)(w.a,{children:Object(a.jsxs)(D.a,{children:[Object(a.jsx)(N.a,{children:"Position"}),Object(a.jsx)(N.a,{children:"Name"}),Object(a.jsx)(N.a,{children:"PRs Opened"})]})}),Object(a.jsx)(P.a,{children:n.map((function(e,t){return Object(a.jsxs)(D.a,{children:[Object(a.jsx)(N.a,{children:t+1}),Object(a.jsxs)(N.a,{children:[0===t&&Object(a.jsx)("span",{children:"\ud83d\udc51 "}),e[0]]}),Object(a.jsx)(N.a,{children:e[1]})]},t)}))})]})})]})}var U=n(573),B=n(571),H=n(566),M=n(577),L=n(578);function W(){var e=Object(d.a)(["\n  min-height: 450px;\n  width: 100%;\n  top: 0;\n"]);return W=function(){return e},e}var q=l.a.div(W()),G=Object(j.a)(U.a)({display:"flex",alignItems:"center",justifyContent:"center"}),K=Object(j.a)(B.a)({width:200}),J=Object(j.a)(T.a)({width:"60%",outline:"none"});function X(e){var t=c.a.useRef(null);return Object(a.jsx)("div",{ref:t,children:Object(a.jsx)(G,{disablePortal:!0,disableEnforceFocus:!0,disableAutoFocus:!0,open:!0,"aria-labelledby":"server-modal-title","aria-describedby":"server-modal-description",onBackdropClick:e.closeModal,children:Object(a.jsx)(J,{children:Object(a.jsxs)(g.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:10,children:[Object(a.jsx)(g.a,{xs:8,item:!0,children:e.chart}),Object(a.jsx)(g.a,{xs:4,item:!0,children:Object(a.jsxs)(q,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{component:"div",children:"Filters:"})}),Object(a.jsxs)(H.a,{children:[Object(a.jsx)(M.a,{id:"demo-simple-select-label",children:"By team"}),Object(a.jsxs)(K,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e.team,onChange:function(t){return e.selectTeam(t.target.value)},children:[Object(a.jsx)(L.a,{value:"",children:"None"}),Object.entries(f).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(a.jsx)(L.a,{value:n,children:String(r)})}))]})]})]})})]})})})})}var z=n(87),V=n(567),Q=n(572),Y=n(307),Z=n.n(Y);function $(e){var t=function(e){var t=e.data.search.edges.map((function(e){var t=e.node,n=t.createdAt,a=t.closedAt,r=Object(V.a)(n),c=Object(V.a)(a);return Object(Q.a)(c,r)})),n=Math.max.apply(Math,Object(z.a)(t)),a=Math.min(n,10);return Z()(a).map((function(e){return[1*e,1*(e+1)]})).map((function(e){return{id:"".concat(e[0]," - ").concat(e[1]),value:t.filter((function(t){return t<=e[1]&&t>e[0]})).length}}))}(e.data);return console.log({histData:t}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h6",component:"div",children:"Pull Requests Business Days To Close"})}),Object(a.jsx)(F.a,{margin:{top:30,right:80,bottom:80,left:80},data:t,labelTextColor:x,enableGridX:!1,colors:"#28AFB0",theme:{axis:{ticks:{line:{stroke:m},text:{fill:m}}}}})]})}var ee=Object(j.a)(T.a)({height:500,width:"100%",padding:40,margin:20,outline:"none"}),te=function(e){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],s=e.isClickable,d=e.team,l=e.setTeam;return Object(a.jsxs)(a.Fragment,{children:[c&&Object(a.jsx)(X,{closeModal:function(){return i(!1)},chart:e.children,selectTeam:function(e){return l(e)},team:d}),Object(a.jsx)(g.a,{onClick:function(){return s&&i(!0)},md:12,lg:6,item:!0,children:Object(a.jsx)(ee,{children:e.children})})]})};function ne(e){var t,n=Object(y.a)("https://github-monitor.services.dev.propelleraero.com/prs_by_dev/",(t=e.password,function(e){var n=new Headers;return n.set("Authorization","Basic "+btoa("propeller:"+t)),fetch(e,{method:"GET",headers:n}).then((function(e){return e.json()}))})).data,c=Object(r.useState)(""),i=Object(o.a)(c,2),s=i[0],d=i[1];return Object(a.jsxs)(g.a,{container:!0,direction:"row",justify:"center",alignItems:"center",alignContent:"center",spacing:10,children:[Object(a.jsx)(te,{children:n?Object(a.jsx)(_,{data:n}):Object(a.jsx)(C.a,{})}),Object(a.jsx)(te,{isClickable:!0,team:s,setTeam:d,children:n?Object(a.jsx)(S,{data:n,team:s}):Object(a.jsx)(C.a,{})}),Object(a.jsx)(te,{children:n?Object(a.jsx)($,{data:n}):Object(a.jsx)(C.a,{})})]})}var ae=n(579),re=n(569),ce=Object(j.a)(U.a)({display:"flex",alignItems:"center",justifyContent:"center"}),ie=Object(j.a)(T.a)({width:"60%",outline:"none",padding:100,textAlign:"center"});function se(e){var t=c.a.useRef(null);return Object(a.jsx)("div",{ref:t,children:Object(a.jsx)(ce,{disablePortal:!0,disableEnforceFocus:!0,disableAutoFocus:!0,open:!0,"aria-labelledby":"server-modal-title","aria-describedby":"server-modal-description",onBackdropClick:function(){},children:Object(a.jsx)(ie,{children:e.children})})})}function oe(e){var t=Object(r.useState)(""),n=Object(o.a)(t,2),c=n[0],i=n[1];return Object(a.jsxs)(se,{children:[Object(a.jsx)(ae.a,{type:"password",label:"Password",value:c,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(re.a,{color:"primary",variant:"contained",onClick:function(t){e.onSubmit(c)},children:"Login"})]})}function de(){var e=Object(d.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  padding: 100px;\n"]);return de=function(){return e},e}var le=l.a.div(de());var je=function(){var e=Object(r.useState)(Object({NODE_ENV:"production",PUBLIC_URL:"/engineering-health-dashboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.jsx)(le,{children:n?Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsx)(p,{}),Object(a.jsx)(ne,{password:n})]}):Object(a.jsx)(oe,{onSubmit:function(e){return c(e)}})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,580)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(je,{})}),document.getElementById("root")),ue()}},[[474,1,2]]]);
//# sourceMappingURL=main.5af54526.chunk.js.map