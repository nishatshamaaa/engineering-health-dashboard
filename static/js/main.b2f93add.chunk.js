(this["webpackJsonpengineering-health-dashboard"]=this["webpackJsonpengineering-health-dashboard"]||[]).push([[0],{338:function(e,t,n){},339:function(e,t,n){},474:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),i=n(17),s=n.n(i),o=(n(338),n(19)),l=n(148),d=n(157),j=(n(339),n(574)),u=n(545),b=n(548),h=n(549),O=n(547),x="#2C343F",m="#1D2228",v={DE:"Data dev",INFRASTRUCTURE:"Infrastructure",NOMAD:"Nomad",HE:"Hardware"},f=Object(j.a)(u.a)({background:"#FFDD00",color:m});function p(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{}),Object(a.jsx)(f,{children:Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h6",children:"Engineering Health Dashboard"})})}),Object(a.jsx)(b.a,{})]})}var g=n(565),y=n(308),T=n(475),C=n(151),F={"geospatial-growth-hack":v.DE,mothership:v.INFRASTRUCTURE,"web-server":v.INFRASTRUCTURE,dbt:v.INFRASTRUCTURE,partners:v.INFRASTRUCTURE,atlas:v.NOMAD,"dirtmate-edge":v.HE,"3p":v.DE,"aeropoints-fulfillers":v.HE,"aeropoints-firmware":v.HE};function R(e){var t=function(e,t){var n,a,r=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.search)||void 0===a?void 0:a.edges;if(r){var c=/https:\/\/github.com\/PropellerAero\/(.*?)\//;t&&(r=t&&r.filter((function(e){var n,a=c.exec(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.url);return v[t]===F[a?a[1]:""]})));var i=[{day:0,count:0,dayName:"Sunday"},{day:1,count:0,dayName:"Monday"},{day:2,count:0,dayName:"Tuesday"},{day:3,count:0,dayName:"Wednesday"},{day:4,count:0,dayName:"Thursday"},{day:5,count:0,dayName:"Friday"},{day:6,count:0,dayName:"Saturday"}];return r.forEach((function(e){var t,n=new Date(null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.createdAt).getDay();i.find((function(e){return e.day===n})).count++})),i}}(e.data,e.team);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h6",component:"div",children:"Pull Requests Raised Across Propeller"})}),Object(a.jsx)(C.a,{margin:{top:30,right:80,bottom:80,left:80},data:t,indexBy:"dayName",keys:["count"],labelTextColor:x,enableGridX:!1,colors:"#28AFB0",theme:{axis:{ticks:{line:{stroke:m},text:{fill:m}}}}})]})}var S=n(557),E=n(558),A=n(559),w=n(560),D=n(561),N=n(562),P=n(303),k=n.n(P);function I(e){var t=e.data,n=t?function(e){var t=e.data.search.edges.map((function(e){var t,n;return null===e||void 0===e||null===(t=e.node)||void 0===t||null===(n=t.author)||void 0===n?void 0:n.login}));return Object.entries(k()(t)).sort((function(e,t){return t[1]-e[1]})).slice(0,5)}(t):[];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h6",component:"div",children:"Pull Request Leaderboard"})}),Object(a.jsx)(S.a,{children:Object(a.jsxs)(E.a,{"aria-label":"simple table",children:[Object(a.jsx)(A.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(D.a,{children:"Position"}),Object(a.jsx)(D.a,{children:"Name"}),Object(a.jsx)(D.a,{children:"PRs Opened"})]})}),Object(a.jsx)(N.a,{children:n.map((function(e,t){return Object(a.jsxs)(w.a,{children:[Object(a.jsx)(D.a,{children:t+1}),Object(a.jsxs)(D.a,{children:[0===t&&Object(a.jsx)("span",{children:"\ud83d\udc51 "}),e[0]]}),Object(a.jsx)(D.a,{children:e[1]})]},t)}))})]})})]})}var _=n(572),U=n(570),B=n(566),H=n(576),M=n(577);function L(){var e=Object(l.a)(["\n  min-height: 450px;\n  width: 100%;\n  top: 0;\n"]);return L=function(){return e},e}var W=d.a.div(L()),q=Object(j.a)(_.a)({display:"flex",alignItems:"center",justifyContent:"center"}),G=Object(j.a)(U.a)({width:200}),K=Object(j.a)(T.a)({width:"60%",outline:"none"});function J(e){var t=c.a.useRef(null);return Object(a.jsx)("div",{ref:t,children:Object(a.jsx)(q,{disablePortal:!0,disableEnforceFocus:!0,disableAutoFocus:!0,open:!0,"aria-labelledby":"server-modal-title","aria-describedby":"server-modal-description",onBackdropClick:e.closeModal,children:Object(a.jsx)(K,{children:Object(a.jsxs)(g.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:10,children:[Object(a.jsx)(g.a,{xs:8,item:!0,children:e.chart}),Object(a.jsx)(g.a,{xs:4,item:!0,children:Object(a.jsxs)(W,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{component:"div",children:"Filters:"})}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(H.a,{id:"demo-simple-select-label",children:"By team"}),Object(a.jsxs)(G,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e.team,onChange:function(t){return e.selectTeam(t.target.value)},children:[Object(a.jsx)(M.a,{value:"",children:"None"}),Object.entries(v).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(a.jsx)(M.a,{value:n,children:String(r)})}))]})]})]})})]})})})})}var X=n.p+"static/media/spinner.df897d1b.gif";function z(){return Object(a.jsx)("img",{src:X,height:30,style:{margin:"30px"},alt:"loading..."})}var V=n(76),Q=n(567),Y=n(571),Z=n(307),$=n.n(Z);function ee(e){var t=function(e){var t=e.data.search.edges.map((function(e){var t=e.node,n=t.createdAt,a=t.closedAt,r=Object(Q.a)(n),c=Object(Q.a)(a);return Object(Y.a)(c,r)}));console.log({timeToClose:t});var n=Math.min.apply(Math,Object(V.a)(t)),a=Math.max.apply(Math,Object(V.a)(t)),r=a;console.log({min:n,max:a});var c=$()(r).map((function(e){return[1*e,1*(e+1)]}));return console.log({bins:c}),c.map((function(e){return{id:"".concat(e[0]," - ").concat(e[1]),value:t.filter((function(t){return t<=e[1]&&t>e[0]})).length}}))}(e.data);return console.log({histData:t}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h6",component:"div",children:"Pull Requests Business Days To Close"})}),Object(a.jsx)(C.a,{margin:{top:30,right:80,bottom:80,left:80},data:t,labelTextColor:x,enableGridX:!1,colors:"#28AFB0",theme:{axis:{ticks:{line:{stroke:m},text:{fill:m}}}}})]})}var te=Object(j.a)(T.a)({height:500,width:"100%",padding:40,margin:20,outline:"none"}),ne=function(e){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],s=e.isClickable,l=e.team,d=e.setTeam;return Object(a.jsxs)(a.Fragment,{children:[c&&Object(a.jsx)(J,{closeModal:function(){return i(!1)},chart:e.children,selectTeam:function(e){return d(e)},team:l}),Object(a.jsx)(g.a,{onClick:function(){return s&&i(!0)},md:12,lg:6,item:!0,children:Object(a.jsx)(te,{children:e.children})})]})};function ae(e){var t,n=Object(y.a)("https://github-monitor.services.dev.propelleraero.com/prs_by_dev/",(t=e.password,function(e){var n=new Headers;return n.set("Authorization","Basic "+btoa("propeller:"+t)),fetch(e,{method:"GET",headers:n}).then((function(e){return e.json()}))})).data,c=Object(r.useState)(""),i=Object(o.a)(c,2),s=i[0],l=i[1];return Object(a.jsxs)(g.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:10,children:[Object(a.jsx)(ne,{children:n?Object(a.jsx)(I,{data:n}):Object(a.jsx)(z,{})}),Object(a.jsx)(ne,{isClickable:!0,team:s,setTeam:l,children:n?Object(a.jsx)(R,{data:n,team:s}):Object(a.jsx)(z,{})}),Object(a.jsx)(ne,{children:n?Object(a.jsx)(ee,{data:n}):Object(a.jsx)(z,{})})]})}var re=n(578),ce=n(568),ie=Object(j.a)(_.a)({display:"flex",alignItems:"center",justifyContent:"center"}),se=Object(j.a)(T.a)({width:"60%",outline:"none",padding:100,textAlign:"center"});function oe(e){var t=c.a.useRef(null);return Object(a.jsx)("div",{ref:t,children:Object(a.jsx)(ie,{disablePortal:!0,disableEnforceFocus:!0,disableAutoFocus:!0,open:!0,"aria-labelledby":"server-modal-title","aria-describedby":"server-modal-description",onBackdropClick:function(){},children:Object(a.jsx)(se,{children:e.children})})})}function le(e){var t=Object(r.useState)(""),n=Object(o.a)(t,2),c=n[0],i=n[1];return Object(a.jsxs)(oe,{children:[Object(a.jsx)(re.a,{type:"password",label:"Password",value:c,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(ce.a,{color:"primary",variant:"contained",onClick:function(t){e.onSubmit(c)},children:"Login"})]})}function de(){var e=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  padding: 100px;\n"]);return de=function(){return e},e}var je=d.a.div(de());var ue=function(){var e=Object(r.useState)(Object({NODE_ENV:"production",PUBLIC_URL:"/engineering-health-dashboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PASSWORD),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.jsx)(je,{children:n?Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsx)(p,{}),Object(a.jsx)(ae,{password:n})]}):Object(a.jsx)(le,{onSubmit:function(e){return c(e)}})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,579)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ue,{})}),document.getElementById("root")),be()}},[[474,1,2]]]);
//# sourceMappingURL=main.b2f93add.chunk.js.map